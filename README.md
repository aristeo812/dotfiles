# Brand's Dotfiles

## What's inside

<details>
  <summary>Expand</summary>

<table>
    <tr>
        <th colspan="2">Applications and utilities</th>
    </tr>
    <tr>
        <td>Dotfiles manager</td>
        <td>[chezmoi](https://www.chezmoi.io/)</td>
    </tr>
    <tr>
        <td>Window manager</td>
        <td>[Openbox](https://github.com/danakj/openbox)</td>
    </tr>
    <tr>
        <td>Panel</td>
        <td>[tint2](https://github.com/o9000/tint2)</td>
    </tr>
    <tr>
        <td>Wallpaper manager</td>
        <td>[nitrogen](https://github.com/l3ib/nitrogen)</td>
    </tr>
    <tr>
        <td>System monitor</td>
        <td>[conky](https://github.com/brndnmtthws/conky)</td>
    </tr>
    <tr>
        <td>Openbox menus</td>
        <td>[obmenu-generator](https://github.com/trizen/obmenu-generator)</td>
    </tr>
    <tr>
        <td>Application launcher</td>
        <td>[rofi](https://github.com/davatorium/rofi)</td>
    </tr>
    <tr>
        <td>Text processors</td>
        <td>[vim](https://github.com/vim/vim), [emacs](https://www.gnu.org/software/emacs/)</td>
    </tr>
    <tr>
        <td>Terminal emulator</td>
        <td>[lxterminal](https://github.com/lxde/lxterminal), [alacritty](https://github.com/alacritty/alacritty)</td>
    </tr>
    <tr>
        <td>File managers</td>
        <td>[mc](https://midnight-commander.org/), [pcmanfm](https://github.com/lxde/pcmanfm) or [caja](https://github.com/mate-desktop/caja)</td>
    </tr>
    <tr>
        <td>Sound volume</td>
        <td>[volumeicon](https://github.com/Maato/volumeicon)</td>
    </tr>
    <tr>
        <td>Keyboard layout switcher</td>
        <td>[gxkb](https://github.com/zen-tools/gxkb)</td>
    </tr>
    <tr>
        <td>Clipboard manager</td>
        <td>[clipit](https://github.com/CristianHenzel/ClipIt)</td>
    </tr>
    <tr>
        <td>Screensaver</td>
        <td>[xscreensaver](https://www.jwz.org/xscreensaver/)</td>
    </tr>
    <tr>
        <td>X settings daemon</td>
        <td>[xsettingsd](https://codeberg.org/derat/xsettingsd)</td>
    </tr>
    <tr>
        <td>Calendar</td>
        <td>[gsimplecal](https://github.com/dmedvinsky/gsimplecal)</td>
    </tr>
    <tr>
        <td>Screenshots</td>
        <td>[scrot](https://github.com/dreamer/scrot)</td>
    </tr>
    <tr>
        <td>Miscellania</td>
        <td>[Caffeine-ng](https://codeberg.org/WhyNotHugo/caffeine-ng), [Redshift](https://github.com/jonls/redshift)</td>
    </tr>
    <tr>
        <th colspan="2">Theming</th>
    </tr>
    <tr>
        <td>GTK and Openbox theme</td>
        <td>[Greylooks](https://github.com/vbrand1984/greylooks)</td>
    </tr>
    <tr>
        <td>Icons</td>
        <td>[Papirus-Light](https://github.com/PapirusDevelopmentTeam/papirus-icon-theme)</td>
    </tr>
    <tr>
        <td>Mouse cursor</td>
        <td>DMZ-White a.k.a. Vanilla-DMZ</td>
    </tr>
    <tr>
        <td>System font</td>
        <td>Roboto Regular 11</td>
    </tr>
    <tr>
        <td>Monospace font</td>
        <td>JetBrains Mono Medium</td>
    </tr>
    <tr>
        <td>Other fonts used</td>
        <td>Ubuntu, DejaVu</td>
    </tr>
</table>

</details>

## Cheatsheet

### Openbox keybindings

<details>
  <summary>Expand</summary>

<table>
    <tr>
        <th colspan="2">Application launchers</th>
    </tr>
    <tr>
        <td>Super-Ctrl-B</td>
        <td>Web Browser</td>
    </tr>
    <tr>
        <td>Super-Ctrl-C</td>
        <td>LibreOffice Calc</td>
    </tr>
    <tr>
        <td>Super-Ctrl-E</td>
        <td>Emacs client</td>
    </tr>
    <tr>
        <td>Super-Ctrl-F</td>
        <td>File manager</td>
    </tr>
    <tr>
        <td>Super-Ctrl-I</td>
        <td>LibreOffice Impress</td>
    </tr>
    <tr>
        <td>Super-Ctrl-O</td>
        <td>Obconf</td>
    </tr>
    <tr>
        <td>Super-Ctrl-P</td>
        <td>Pavucontrol</td>
    </tr>
    <tr>
        <td>Super-Ctrl-R</td>
        <td>Tor Browser launcher</td>
    </tr>
    <tr>
        <td>Super-Ctrl-S</td>
        <td>OBS-Studio</td>
    </tr>
    <tr>
        <td>Super-Ctrl-T</td>
        <td>Terminal emulator</td>
    </tr>
    <tr>
        <td>Super-Ctrl-W</td>
        <td>LibreOffice Writer</td>
    </tr>
    <tr>
        <td>Ctrl-Alt-Del</td>
        <td>System monitor</td>
    </tr>
    <tr>
        <th colspan="2">rofi</th>
    </tr>
    <tr>
        <td>Super-Enter</td>
        <td>run module (run a command)</td>
    </tr>
    <tr>
        <td>Super-Shift-Enter</td>
        <td>drun module (run desktop application)</td>
    </tr>
    <tr>
        <td>Super-F1</td>
        <td>calc module (not working in Debian-based installs)</td>
    </tr>
    <tr>
        <td>Super-Tab</td>
        <td>window switching module</td>
    </tr>
    <tr>
        <th colspan="2">Screenshots</th>
    </tr>
    <tr>
        <td>PrtScr</td>
        <td>Take a screenshot (fullscreen)</td>
    </tr>
    <tr>
        <td>Alt-PrtScr</td>
        <td>Screenshot of the current window</td>
    </tr>
    <tr>
        <td>Ctrl-PrtScr</td>
        <td>Screenshot of selection</td>
    </tr>
    <tr>
        <td>Super-PrtScr</td>
        <td>Fullscreen screenshot with a 5 sec delay</td>
    </tr>
    <tr>
        <td>Super-Alt-PrtScr</td>
        <td>Screenshot of the current window with a 5 sec delay</td>
    </tr>
    <tr>
        <th colspan="2">Inherent Openbox stuff</th>
    </tr>
    <tr>
        <td>Super-Shift-A</td>
        <td>Reconfigure whole appearance</td>
    </tr>
    <tr>
        <td>Super-Shift-C</td>
        <td>Reconfigure Openbox</td>
    </tr>
    <tr>
        <td>Super-Esc</td>
        <td>Show Openbox menu</td>
    </tr>
    <tr>
        <td>Super-D</td>
        <td>Show/hide desktop</td>
    </tr>
    <tr>
        <th colspan="2">Session management</th>
    </tr>
    <tr>
        <td>Super-Ctrl-L</td>
        <td>Lock screen</td>
    </tr>
    <tr>
        <td>Super-Ctrl-Q</td>
        <td>Shutdown dialogue</td>
    </tr>
    <tr>
        <td>Super-Shift-Q</td>
        <td>Exit Openbox</td>
    </tr>
    <tr>
        <th colspan="2">Navigating between desktops</th>
    </tr>
    <tr>
        <td>Super-[1..4]</td>
        <td>Go to desktop 1, 2, 3 or 4</td>
    </tr>
    <tr>
        <td>Super-Ctrl-Left</td>
        <td>Go to the desktop to the left</td>
    </tr>
    <tr>
        <td>Super-Ctrl-Right</td>
        <td>Go to the desktop to the right</td>
    </tr>
    <tr>
        <td>Super-Ctrl-Up</td>
        <td>Go to the desktop above</td>
    </tr>
    <tr>
        <td>Super-Ctrl-Down</td>
        <td>Go to the desktop below</td>
    </tr>
    <tr>
        <th colspan="2">Moving windows between desktops</th>
    </tr>
    <tr>
        <td>Super-Shift-[1..4]</td>
        <td>Move current window to desktop 1, 2, 3 or 4</td>
    </tr>
    <tr>
        <td>Super-Shift-Left</td>
        <td>Move current window to the desktop to the left</td>
    </tr>
    <tr>
        <td>Super-Shift-Right</td>
        <td>Move current window to the desktop to the right</td>
    </tr>
    <tr>
        <td>Super-Shift-Up</td>
        <td>Move current window to the desktop above</td>
    </tr>
    <tr>
        <td>Super-Shift-Down</td>
        <td>Move current window to the desktop below</td>
    </tr>
    <tr>
        <th colspan="2">Window handling</th>
    </tr>
    <tr>
        <td>Alt-F4, Super-Q</td>
        <td>Close current window</td>
    </tr>
    <tr>
        <td>Alt-Esc</td>
        <td>Drown the window into the bottom of the stack</td>
    </tr>
    <tr>
        <td>Alt-Space</td>
        <td>Show window&#39;s context menu</td>
    </tr>
    <tr>
        <td>Super-F</td>
        <td>Toggle fullscreen</td>
    </tr>
    <tr>
        <td>Super-I</td>
        <td>Iconify current window</td>
    </tr>
    <tr>
        <td>Super-M</td>
        <td>Toggle maximize</td>
    </tr>
    <tr>
        <td>Super-O</td>
        <td>Toggle omnipresent</td>
    </tr>
    <tr>
        <td>Alt-Tab</td>
        <td>Switch to the next window</td>
    </tr>
    <tr>
        <td>Ctrl-Alt-Tab</td>
        <td>Switch to the previous window</td>
    </tr>
    <tr>
        <th colspan="2">(Semi)-Tiling</th>
    </tr>
    <tr>
        <td>Super-Left</td>
        <td>Shift current window to the left half of the screen</td>
    </tr>
    <tr>
        <td>Super-Right</td>
        <td>Shift current window to the right half of the screen</td>
    </tr>
    <tr>
        <td>Super-Up</td>
        <td>Shift current window to the top half of the screen</td>
    </tr>
    <tr>
        <td>Super-Down</td>
        <td>Shift current window to the bottom half of the screen</td>
    </tr>
    <tr>
        <td>Super-Home</td>
        <td>Shift current window to the upper-left corner of the screen</td>
    </tr>
    <tr>
        <td>Super-PageUp</td>
        <td>Shift current window to the upper-right corner of the screen</td>
    </tr>
    <tr>
        <td>Super-PageDown</td>
        <td>Shift current window to the bottom-right corner of the screen</td>
    </tr>
    <tr>
        <td>Super-End</td>
        <td>Shift current window to the bottom-left corner of the screen</td>
    </tr>
</table>
</details>

### Dunst mouse bindings
* Left click: Open context menu for actions and URLs.
* Right click: Close current notification.
* Middle click: Close all notifications.

## Features

### Supported distributions
These dotfiles are tested in Gentoo, Debian/Devuan and Void. Theoretically, this config should also work in other Debian-based distros (systemd-free ones included), and in Ubuntu and Ubuntu-based distributions as well, but not all features may be supported.

### Automatic installation of packages
In Debian-based distros, this config will automatically install needed packages using `aptitude`. The list of the packages to install is stored in the [`.chezmoidata/packages-deb.yaml`](home/.chezmoidata/packages-deb.yaml) file.

### Local bin directory
`~/.local/bin` is added in `$PATH` _after_ everything else. This directory contains several scripts which have executable bit on.

### Most config files are readonly
Most of the configuration files managed by chezmoi here are `private_` and `readonly_`. The reason for that is not only security, but also convenience. This prevents user from accidently editing a config file which is managed by chezmoi. Instead, the `chedit` alias is defined in `bash` for the `chezmoi edit --apply` command. This command is also available via the `mc` user menu: just navigate your cursor over the desired file, press `F2` and `e`.

### Local scripts directory
Utility scripts without executable flag are stored in the [`~/.Scripti`](home/exact_private_dot_Scripti) directory. Openbox pipemenu scripts are stored in [`~/.Scripti/openbox-pipemenus`](home/exact_private_dot_Scripti/exact_private_openbox-menus). All these scripts are invoked from other scripts directly, so that there is no need to either add them in `$PATH` or enable executable bit at all.

### The chezmoi.toml file
This config excessively abuses templating features of `chezmoi`. Many settings are stored in the `~/.config/chezmoi/chezmoi.toml` file which is defined by [`.chezmoi.toml.tmpl`](home/.chezmoi.toml.tmpl).

### Theming and fontconfig options
GTK options like theme, system font, mouse cursor theme, as well as fontconfig options like DPI, antialias and hinting are kept on a centralized basis in the `~/.config/chezmoi/chezmoi.toml` file in the `data.gtk` and `data.fontConfig` sections. One should not use programs like `lxappearance` in order to adjust these settings. Instead, edit the `~/.config/chezmoi/chezmoi.toml` file, run `chezmoi apply` and [`reconfigure-appearance.sh`](home/private_dot_local/exact_private_bin/private_readonly_executable_reconfigure-appearance.sh.tmpl) (or just press `Super-Shift-A` in order to invoke this script).


## Caveats

* This config deletes several files in `~`, see the [`.chezmoiremove`](home/.chezmoiremove) file. The reason for that is, configuration files for these programs are stored inside the `~/.config` directory instead.
* `~/.local/bin` and `~/.config/autostart` directories both have the `exact_` chezmoi's prefix which means that anything not managed by chezmoi in these directories will be deleted upon executing `chezmoi apply` or `chezmoi update`.
* Among all icon themes, only Papirus set is fully supported by this config, due to the templating limitations (absolute paths to certain icons are specified in some dotfiles for Openbox and dunst). Using other icon themes may render some icons in Openbox menu and dunst invisible.
* Debian no longer supports `clipit` for whatever reason. As of now, I solve this issue by manually installing this package from Debian 10 and holding it (`aptitude hold` command). There is no automatic installation and support for this package so far.
